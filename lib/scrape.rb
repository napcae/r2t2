# frozen_string_literal: true

require 'nokogiri'

class Scrape
  def initialize
    proxy_list = ["104.248.114.32:3128",
                  "104.244.77.254:8080",
                  "103.139.103.34:3128",
                  "104.244.75.26:8080",
                  "125.26.71.177:8080",
                  "116.203.254.70:3129",
                  "139.180.215.218:8080",
                  "167.71.195.139:8080",
                  "136.243.64.111:8888",
                  "149.28.147.101:8080",
                  "149.248.45.104:8080",
                  "128.199.130.51:8080",
                  "128.199.174.190:8081",
                  "169.51.80.228:3128",
                  "185.25.206.192:3128",
                  "185.21.217.20:3128",
                  "194.8.146.167:52954",
                  "185.25.206.192:8080",
                  "205.185.116.235:8080",
                  "185.137.232.95:80",
                  "37.59.61.18:8080",
                  "91.206.14.130:9999",
                  "45.76.178.182:8080",
                  "45.76.157.40:8080",
                  "51.158.111.242:8811",
                  "45.76.160.140:8080",
                  "45.32.111.75:8080",
                  "5.189.188.95:3128",
                  "104.248.123.62:3128",
                  "128.199.249.118:3128",
                  "185.25.207.165:3128",
                  "185.47.223.53:8080",
                  "45.32.229.109:8080",
                  "185.23.128.180:3128",
                  "45.77.39.129:8080",
                  "151.80.199.89:3128",
                  "18.222.135.64:3128",
                  "165.22.53.162:8080",
                  "165.22.211.212:3128",
                  "167.172.191.249:40339",
                  "149.248.44.107:8080",
                  "178.62.215.190:8080",
                  "178.33.251.230:3129",
                  "209.41.69.101:3128",
                  "188.166.22.22:8118",
                  "3.126.206.94:3128",
                  "34.91.135.38:80",
                  "49.12.75.192:3128",
                  "51.158.123.250:8811",
                  "51.77.149.1:3129",
                  "51.158.172.165:8811",
                  "45.76.176.68:8080",
                  "66.42.48.253:8080",
                  "62.118.131.240:3128",
                  "161.35.114.60:8080",
                  "178.63.41.235:9999",
                  "169.51.52.227:3128",
                  "167.172.6.211:3128",
                  "159.203.44.177:3128",
                  "18.184.235.220:9999",
                  "205.185.127.8:8080",
                  "34.195.158.33:8080",
                  "78.47.106.195:3129",
                  "51.91.212.159:3128",
                  "52.179.18.244:8080",
                  "163.172.190.160:8811",
                  "64.225.77.173:8080",
                  "18.197.235.97:3128",
                  "176.9.63.62:3128",
                  "167.71.201.161:8080",
                  "167.71.61.177:3128",
                  "182.253.94.112:8080",
                  "85.105.38.147:8080",
                  "51.158.123.35:8811",
                  "35.236.75.143:80",
                  "54.184.22.115:3128",
                  "178.128.243.206:8080",
                  "66.42.50.65:8080",
                  "182.253.31.42:8888",
                  "178.128.82.208:8080",
                  "66.42.51.112:8080",
                  "68.183.18.239:3128",
                  "64.188.3.162:3128",
                  "178.63.193.203:3128",
                  "68.183.28.2:3128",
                  "80.187.140.26:8080",
                  "64.71.145.122:3128",
                  "84.38.185.230:3128"
                  ]

    @parsed_page = HTTParty.get('https://hypem.com/napcae')
    @hypem_loved = Nokogiri::HTML(@parsed_page)
  end

  def get_artist_from_hypem
    # parse loved songs from hypem loved page
    @hypem_loved.css('#track-list').css('.track_name').map do |track_item|
      artist = CleanHelper.artist_track(track_item.css('.artist').attribute('title').text)
    end
  end

  def get_track_from_hypem
    # parse loved songs from hypem loved page
    @hypem_loved.css('#track-list').css('.track_name').map do |track_item|
      track = CleanHelper.artist_track(track_item.css('.base-title').text)
    end
  end
end
